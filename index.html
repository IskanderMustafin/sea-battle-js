<!DOCTYPE html>
<html>
<head>
    <title>Морской бой</title>

    <meta http-equiv="content-type" content="text/html; charset=UTF-8">

    <link rel="stylesheet" type="text/css" href="style/layout.css" />

    <script src="js/external/jquery-1.10.2.min.js"></script>

</head>

<body>

    <div id="game_container">
        <div id="header">
            <span id="user_info">Имя игрока: </span>
        </div>

        <div id="battle_field">
            <div id="bot_field"></div>
            <div id="player_field"></div>
        </div>
    </div>

    <div id="username_box" class="username_box">
        <div>Введите имя игрока</div>
        <form>
            <input type="text" id="username_box_tb"/>
            <input type="button" id="username_box_btn" value="Начать игру"/>
        </form>
    </div>

    <div id="backgroundPopup"></div>

    <script>
        jQuery(function($) {

            processUserName();

            function processUserName() {
                $('#game_container').hide();

                $('#username_box_tb').focus();

                $('#username_box_btn').click(function() {
                    onUserNameEntered()
                });

                $('#username_box_tb').keydown( function(event) {
                    if (event.keyCode == 13) {   // 13 = Enter
                        onUserNameEntered();

                    }
                })

                function onUserNameEntered() {
                    var userName = $('#username_box_tb').val();

                    var userNameRegExp = /^[A-Za-zА-ЯЁа-яё ]+$/ //Только буквы
                    if (!userNameRegExp.test(userName)) {
                        alert("Имя пользователя не может быть пустым и должно состоять только из букв!");
                        return;
                    }
                    $('#user_info').append(userName);


                    $('#username_box').hide(500);
                    $('#game_container').show(500);
                }
            }

        })
    </script>


</body>
</html>